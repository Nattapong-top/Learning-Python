# ‡∏Å‡πä‡∏≠‡∏õ‡∏õ‡∏µ‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö (‡∏°‡∏µ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏Ñ‡∏£‡∏ö‡πÉ‡∏ô‡∏ï‡∏±‡∏ß)

'''‡∏ä‡∏∏‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á (HTML Source Code)'''
html_source = """
<!DOCTYPE html>
<html>
<head>
    <title>‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü‡∏õ‡πã‡∏≤‡∏ì‡∏±‡∏ê (Paa Nat Coffee)</title>
</head>
<body>
    <div class="product">
        <h1>‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡πÄ‡∏≠‡∏™‡πÄ‡∏û‡∏£‡∏™‡πÇ‡∏ã‡πà‡πÄ‡∏¢‡πá‡∏ô</h1>
        <img src="https://paa-shop.com/img/espresso.jpg" alt="Espresso">
        <span class="price">Price: 55 Baht</span>
        <p class="desc"><b>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</b> ‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô ‡∏ñ‡∏∂‡∏á‡πÉ‡∏à ‡∏ï‡∏≤‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏¢‡∏±‡∏ô‡πÄ‡∏ä‡πâ‡∏≤</p>
        <a href="https://paa-shop.com/buy/12345">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏±‡∏ô‡∏ó‡∏µ</a>
    </div>
</body>
</html>
"""

'''------------------------------------------
‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 1: ‡∏î‡∏∂‡∏á‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÄ‡∏ß‡πá‡∏ö (Get Title)
‡πÇ‡∏à‡∏ó‡∏¢‡πå: ‡∏à‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÅ‡∏ó‡πá‡∏Å <title> ... </title> ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤
‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡πÅ‡∏ü‡∏õ‡πã‡∏≤‡∏ì‡∏±‡∏ê (Paa Nat Coffee)
Hint: ‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á > ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ó‡πá‡∏Å‡πÄ‡∏õ‡∏¥‡∏î ‡πÅ‡∏•‡∏∞ < ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ó‡πá‡∏Å‡∏õ‡∏¥‡∏î
------------------------------------------'''
def get_title(html):
    start_tag = "<title>"
    end_tag = "</title>"
    
    # 1. ‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡πÅ‡∏•‡∏∞‡∏Ç‡∏¢‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏•‡∏±‡∏á tag)
    start_index = html.find(start_tag) + len(start_tag)
    
    # 2. ‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏™‡∏¥‡πâ‡∏ô‡∏™‡∏∏‡∏î
    end_index = html.find(end_tag)
    
    # 3. ‡∏ï‡∏±‡∏î‡∏≠‡∏≠‡∏Å‡∏°‡∏≤
    title = html[start_index:end_index]
    return title

print(f"Title: {get_title(html_source)}")
print('\n')


'''------------------------------------------
‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 2: ‡∏î‡∏∂‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (Get Image URL)
‡πÇ‡∏à‡∏ó‡∏¢‡πå: ‡∏à‡∏á‡∏î‡∏∂‡∏á URL ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô src="..." ‡∏Ç‡∏≠‡∏á‡πÅ‡∏ó‡πá‡∏Å <img>
‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: https://paa-shop.com/img/espresso.jpg
Hint: ‡∏´‡∏≤‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ src=" ‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡∏´‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢ " ‡∏ï‡∏±‡∏ß‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
------------------------------------------'''
def get_image_src(html:str):
    # ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏≠‡∏á (‡∏•‡∏≠‡∏á‡πÄ‡∏•‡∏µ‡∏¢‡∏ô‡πÅ‡∏ö‡∏ö‡∏Ç‡πâ‡∏≠ 1)
    # 1. ‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á start (‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ src=")
    start_tag = '<img src="'
    stop_tag = '"'
    # 2. ‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á end (‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢ " ‡∏ï‡∏±‡∏ß‡∏ñ‡∏±‡∏î‡πÑ‡∏õ)
    start_index = html.find(start_tag) + len(start_tag)
    stop_index = html.find(stop_tag, start_index)

    url_img = html[start_index:stop_index]

    return url_img

print(f"Image: {get_image_src(html_source)}")
print('\n')


'''------------------------------------------
‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 3: ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ (Get Price)
‡πÇ‡∏à‡∏ó‡∏¢‡πå: ‡∏à‡∏á‡∏î‡∏∂‡∏á "‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏£‡∏≤‡∏Ñ‡∏≤" (55) ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î <span class="price">Price: 55 Baht</span>
Hint: ‡∏´‡∏≤‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "Price: " ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏±‡∏î‡πÄ‡∏≠‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 
(‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ .find() ‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏° ‡πÅ‡∏•‡πâ‡∏ß slice ‡πÑ‡∏õ‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ .split() ‡∏ä‡πà‡∏ß‡∏¢)
------------------------------------------'''
def get_price(html:str):
    # ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î
    taget = 'Price:'
    start_index = html.find(taget)

    value_start = start_index + len(taget)

    stop_index = html.find('Baht', value_start)

    raw_price = html[value_start:stop_index]

    return raw_price.strip()

print(f"Price: {get_price(html_source)}")
print('\n')


'''------------------------------------------
‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 4: ‡∏î‡∏∂‡∏á‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ (Clean Description)
‡πÇ‡∏à‡∏ó‡∏¢‡πå: ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏ô <p class="desc"> ‡∏≠‡∏≠‡∏Å‡∏°‡∏≤ ‡πÅ‡∏ï‡πà **‡πÑ‡∏°‡πà‡πÄ‡∏≠‡∏≤** ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ <b>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</b>
‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡πâ‡∏ô ‡∏ñ‡∏∂‡∏á‡πÉ‡∏à ‡∏ï‡∏≤‡∏™‡∏ß‡πà‡∏≤‡∏á‡∏¢‡∏±‡∏ô‡πÄ‡∏ä‡πâ‡∏≤
Hint: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏î‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å </b> ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á </p>
------------------------------------------'''
def get_description(html:str):
    # ‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏¥‡∏î‡∏Ç‡∏≠‡∏á </b>
    start = '</b>'
    # ‡∏ï‡∏±‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏±‡πâ‡∏ô ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á </p>
    stop = '</p>'

    start_index = html.find(start) + len(start)
    stop_index = html.find(stop)

    desc = html[start_index:stop_index]
    return desc

print(f"Desc: {get_description(html_source)}")
print('\n')


'''------------------------------------------
‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà 5: ‡∏î‡∏∂‡∏á Link ‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ (Get Link)
‡πÇ‡∏à‡∏ó‡∏¢‡πå: ‡∏î‡∏∂‡∏á URL ‡∏à‡∏≤‡∏Å href="..." ‡πÉ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î <a>
‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: https://paa-shop.com/buy/12345
Hint: ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÜ ‡∏Ç‡πâ‡∏≠‡∏î‡∏∂‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (src)
------------------------------------------'''
def get_buy_link(html:str):
    # ‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡πÜ ‡∏Ç‡πâ‡∏≠‡∏î‡∏∂‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (src)
    start = 'href="'
    stop = '">'
    index_start = html.find(start) + len(start)
    index_stop = html.find(stop, index_start)
    link = html[index_start:index_stop]
    return link
print(f"Link: {get_buy_link(html_source)}")
print('\n')

'''üî• ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢: ‡∏Å‡∏£‡∏ì‡∏µ‡∏°‡∏µ "‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≤‡∏Ñ‡∏≤" (Multiple Items)
‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏õ‡πã‡∏≤‡∏ñ‡∏≤‡∏°‡∏ß‡πà‡∏≤ "‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ô ‡∏à‡∏∞‡∏ó‡∏≥‡∏¢‡∏±‡∏á‡πÑ‡∏á?" ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡πÄ‡∏ß‡πá‡∏ö‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ 2 
‡∏ï‡∏±‡∏ß ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ find ‡∏£‡∏≠‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏£‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ While Loop ‡πÄ‡∏û‡∏∑‡πà‡∏≠ 
"‡∏´‡∏≤ -> ‡∏ï‡∏±‡∏î -> ‡∏Ç‡∏¢‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏≤‡∏ï‡πà‡∏≠"

‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡∏°‡πà (‡∏°‡∏µ 2 ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤)'''

html_source_multiple = """
<div class="product">
    <h1>‡∏Å‡∏≤‡πÅ‡∏ü</h1>
    <span class="price">Price: 55 Baht</span>
</div>
<div class="product">
    <h1>‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß</h1>
    <span class="price">Price: 40 Baht</span>
</div>
"""

def get_all_prices(html):
    prices = [] # ‡∏•‡∏¥‡∏™‡∏ï‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡πá‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå
    current_cursor = 0 # ‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà 0)
    
    while True:
        # 1. ‡∏´‡∏≤ "Price:" ‡πÇ‡∏î‡∏¢‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (cursor)
        start_index = html.find('Price:', current_cursor)
        
        # 2. ‡∏ñ‡πâ‡∏≤‡∏´‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡πÅ‡∏•‡πâ‡∏ß (start_index ‡πÄ‡∏õ‡πá‡∏ô -1) ‡πÉ‡∏´‡πâ‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
        if start_index == -1:
            break
            
        # 3. ‡∏Ç‡∏¢‡∏±‡∏ö‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÑ‡∏õ‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ Price:
        value_start = start_index + len('Price:')
        
        # 4. ‡∏´‡∏≤‡∏à‡∏∏‡∏î‡∏à‡∏ö "Baht" ‡πÇ‡∏î‡∏¢‡∏´‡∏≤‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å value_start
        stop_index = html.find('Baht', value_start)
        
        # 5. ‡∏ï‡∏±‡∏î‡∏Ñ‡∏≥
        price = html[value_start:stop_index].strip()
        prices.append(price) # ‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏™‡πà‡∏•‡∏¥‡∏™‡∏ï‡πå
        
        # 6. **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å** ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï cursor ‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡πÑ‡∏õ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏´‡∏≤‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏à‡∏∏‡∏î‡∏à‡∏ö
        # ‡∏£‡∏≠‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠‡∏ï‡∏±‡∏ß‡πÄ‡∏î‡∏¥‡∏°‡∏ã‡πâ‡∏≥
        current_cursor = stop_index

    return prices

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö
print(get_all_prices(html_source_multiple))
# ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå: ['55', '40']