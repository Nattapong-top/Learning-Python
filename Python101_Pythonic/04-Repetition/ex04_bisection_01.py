import math


'''üìù 5 ‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ù‡∏∂‡∏Å Bisection Method (‡∏Å‡∏≤‡∏£‡∏´‡∏≤‡∏£‡∏≤‡∏Å‡∏™‡∏°‡∏Å‡∏≤‡∏£)
‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡πÇ‡∏à‡∏ó‡∏¢‡πå ‡∏à‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Python def f(x): 
‡πÅ‡∏•‡∏∞ ‡∏à‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô [L, U] 
‡∏ó‡∏µ‡πà‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏£‡∏≤‡∏Å‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô (‡πÇ‡∏î‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ f(L)
‡πÅ‡∏•‡∏∞ f(U) ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô)'''


'''
1. üü• ‡πÇ‡∏à‡∏ó‡∏¢‡πå: ‡∏´‡∏≤‡∏£‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏û‡∏´‡∏∏‡∏ô‡∏≤‡∏°‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏≠‡∏á (x^2 - 3x - 4)
'''
def f01(x:float):
    return pow(x, 2) - 3*x - 4

'''
2. üå≤ ‡πÇ‡∏à‡∏ó‡∏¢‡πå: ‡∏´‡∏≤‡∏£‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏™‡∏¥‡∏ö (x^3 - 10)
'''
def f02(x:float):
    return pow(x, 3) - 10

'''
3. ‚è±Ô∏è ‡πÇ‡∏à‡∏ó‡∏¢‡πå: ‡∏´‡∏≤‡∏£‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏µ‡πÇ‡∏Å‡∏ì‡∏°‡∏¥‡∏ï‡∏¥ (cos(x) - x)
'''
def f03(x:float):
    return (math.cos(x) - x)

'''
4. üìà ‡πÇ‡∏à‡∏ó‡∏¢‡πå: ‡∏´‡∏≤‡∏£‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏µ‡πà (x^4 + 2x^3 - x - 1)
'''
def f04(x:float):
    return pow(x, 4) + 2 * pow(x, 3) - x - 1

'''
5. üí° ‡πÇ‡∏à‡∏ó‡∏¢‡πå: ‡∏´‡∏≤‡∏£‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏•‡∏Ç‡∏ä‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á (e^x - 3x)
'''
def f05(x:float):
    return math.exp(x) - 3*x


'''üõ†Ô∏è ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Bisection ‡∏â‡∏ö‡∏±‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå'''

def solve_bisection(L, U, x_target):
    # L ‡πÅ‡∏•‡∏∞ U ‡∏Ñ‡∏∑‡∏≠‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
    # x_target ‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÇ‡∏à‡∏ó‡∏¢‡πå‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£

    # ‡πÉ‡∏ä‡πâ 1e-6 (1 x 10^-6) ‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏•‡∏≤‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô (epsilon)

    # ‡πÉ‡∏ä‡πâ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏´‡∏¢‡∏∏‡∏î‡∏•‡∏π‡∏õ‡∏ó‡∏µ‡πà‡∏õ‡πã‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ß‡πâ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤
    while abs(L-U) > 1e-6: # ‡∏≠‡∏≤‡∏à‡πÉ‡∏ä‡πâ while abs(L-U) > 1e-6 ‡∏Å‡πá‡πÑ‡∏î‡πâ
        
        r = (L + U) / 2
        f_r = f01(r)

        # ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏°‡∏≤‡∏¢
        if f_r > 0:
            U = r
        else:
            L = r
    result = (L+U) / 2
    print(f'‡∏£‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á‡∏™‡∏°‡∏Å‡∏≤‡∏£‡∏Ñ‡∏∑‡∏≠: {result:.6f}')

solve_bisection(L=3, U=5, x_target=4)

